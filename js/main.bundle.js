/*! For license information please see main.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkchicken_liberator=self.webpackChunkchicken_liberator||[]).push([[179],{5:()=>{const t=async()=>(await fetch("/api/gpio/out")).json();var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,e)};function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function r(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s}function i(t,n){for(var e=0,r=n.length,o=t.length;e<r;e++,o++)t[o]=n[e];return t}function s(t){return"function"==typeof t}function c(t){var n=t((function(t){Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Object.create,Object.create;var a=c((function(t){return function(n){t(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}}));function u(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var l=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var n;return t.prototype.unsubscribe=function(){var t,n,e,c,u;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var p=r(l),f=p.next();!f.done;f=p.next())f.value.remove(this)}catch(n){t={error:n}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}else l.remove(this);var d=this.initialTeardown;if(s(d))try{d()}catch(t){u=t instanceof a?t.errors:[t]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var b=r(v),y=b.next();!y.done;y=b.next()){var m=y.value;try{h(m)}catch(t){u=null!=u?u:[],t instanceof a?u=i(i([],o(u)),o(t.errors)):u.push(t)}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(e)throw e.error}}}if(u)throw new a(u)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)h(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}},t.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},t.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},t.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&u(n,t)},t.prototype.remove=function(n){var e=this._teardowns;e&&u(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t}(),p=l.EMPTY;function f(t){return t instanceof l||t&&"closed"in t&&s(t.remove)&&s(t.add)&&s(t.unsubscribe)}function h(t){s(t)?t():t.unsubscribe()}var d=null,v=null,b=void 0,y=!1,m=!1,w={setTimeout:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=w.delegate;return((null==e?void 0:e.setTimeout)||setTimeout).apply(void 0,i([],o(t)))},clearTimeout:function(t){var n=w.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _(t){w.setTimeout((function(){if(!d)throw t;d(t)}))}function g(){}var S=x("C",void 0,void 0);function x(t,n,e){return{kind:t,value:n,error:e}}var P=null;function k(t){if(y){var n=!P;if(n&&(P={errorThrown:!1,error:null}),t(),n){var e=P,r=e.errorThrown,o=e.error;if(P=null,r)throw o}}else t()}function T(t){y&&P&&(P.errorThrown=!0,P.error=t)}var E=function(t){function n(n){var e=t.call(this)||this;return e.isStopped=!1,n?(e.destination=n,f(n)&&n.add(e)):e.destination=I,e}return e(n,t),n.create=function(t,n,e){return new O(t,n,e)},n.prototype.next=function(t){this.isStopped?A(function(t){return x("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?A(x("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?A(S,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(l),O=function(t){function n(n,e,r){var o,i=t.call(this)||this;if(s(n))o=n;else if(n){var c;o=n.next,e=n.error,r=n.complete,i&&m?(c=Object.create(n)).unsubscribe=function(){return i.unsubscribe()}:c=n,o=null==o?void 0:o.bind(c),e=null==e?void 0:e.bind(c),r=null==r?void 0:r.bind(c)}return i.destination={next:o?j(o):g,error:j(null!=e?e:C),complete:r?j(r):g},i}return e(n,t),n}(E);function j(t,n){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{t.apply(void 0,i([],o(n)))}catch(t){y?T(t):_(t)}}}function C(t){throw t}function A(t,n){var e=v;e&&w.setTimeout((function(){return e(t,n)}))}var I={closed:!0,next:g,error:C,complete:g},L="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(t){return t}function q(t){return 0===t.length?V:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var z=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(t,n,e){var r,o=this,i=(r=t)&&r instanceof E||function(t){return t&&s(t.next)&&s(t.error)&&s(t.complete)}(r)&&f(r)?t:new O(t,n,e);return k((function(){var t=o,n=t.operator,e=t.source;i.add(n?n.call(i,e):e?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},t.prototype.forEach=function(t,n){var e=this;return new(n=F(n))((function(n,r){var o;o=e.subscribe((function(n){try{t(n)}catch(t){r(t),null==o||o.unsubscribe()}}),r,n)}))},t.prototype._subscribe=function(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)},t.prototype[L]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return q(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=F(t))((function(t,e){var r;n.subscribe((function(t){return r=t}),(function(t){return e(t)}),(function(){return t(r)}))}))},t.create=function(n){return new t(n)},t}();function F(t){var n;return null!==(n=null!=t?t:b)&&void 0!==n?n:Promise}var M=c((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Q=function(t){function n(){var n=t.call(this)||this;return n.closed=!1,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e(n,t),n.prototype.lift=function(t){var n=new U(this,this);return n.operator=t,n},n.prototype._throwIfClosed=function(){if(this.closed)throw new M},n.prototype.next=function(t){var n=this;k((function(){var e,o;if(n._throwIfClosed(),!n.isStopped){var i=n.observers.slice();try{for(var s=r(i),c=s.next();!c.done;c=s.next())c.value.next(t)}catch(t){e={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}}}))},n.prototype.error=function(t){var n=this;k((function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var e=n.observers;e.length;)e.shift().error(t)}}))},n.prototype.complete=function(){var t=this;k((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var n=this,e=n.hasError,r=n.isStopped,o=n.observers;return e||r?p:(o.push(t),new l((function(){return u(o,t)})))},n.prototype._checkFinalizedStatuses=function(t){var n=this,e=n.hasError,r=n.thrownError,o=n.isStopped;e?t.error(r):o&&t.complete()},n.prototype.asObservable=function(){var t=new z;return t.source=this,t},n.create=function(t,n){return new U(t,n)},n}(z),U=function(t){function n(n,e){var r=t.call(this)||this;return r.destination=n,r.source=e,r}return e(n,t),n.prototype.next=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===e||e.call(n,t)},n.prototype.error=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===e||e.call(n,t)},n.prototype.complete=function(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)},n.prototype._subscribe=function(t){var n,e;return null!==(e=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==e?e:p},n}(Q);const Y=new Q,$=(t,n,e)=>{console.error(e),Y.next({class:"uil uil-times",state:"wrapper active",type:"toast error",title:t,message:n})};(async()=>{Vue.component("output-pin",{props:["pin"],template:'\n      <li>\n        <input \n          type="checkbox"\n          v-bind:id="pin.pin"\n          v-bind:checked="pin.state"\n          v-on:change="togglePin"\n        >\n        <label v-bind:for="pin.pin">\n          <span>Pin {{pin.pin}}</span>\n          <span></span>\n        </label>\n      </li>\n    ',methods:{togglePin:async function(t){t.target.disabled=!0,console.log(this.pin.state);try{const n=await(async(t,n)=>(await fetch(`/api/gpio/out/${t}/${n}`)).json())(this.pin.pin,this.pin.state);this.pin.state=n.state,t.target.disabled=!1}catch(n){$("Quelque chose n'a pas fonctionné","Impossible de changer l'état de cette sortie",n),setTimeout((()=>{t.target.checked=!t.target.checked,t.target.disabled=!1}),500)}}}}),Vue.component("notification-toaster",{data:()=>({loaded:!1,notification:{class:"wrapper",title:"",message:"",type:""}}),props:[],template:'\n    <div v-if="loaded" v-bind:class="notification.state">\n      <div v-bind:class="notification.type">\n        <div class="content">\n          <div class="icon">\n            <i v-bind:class="notification.class"></i>\n          </div>\n          <div class="details">\n            <span>{{notification.title}}</span>\n            <p>{{notification.message}}</p>\n          </div>\n        </div>\n        <div class="close-icon" v-on:click="close">\n          <i class="uil uil-times"></i>\n        </div>\n      </div>\n    </div>\n    ',created:function(){Y.subscribe((t=>{this.loaded=!0,this.notification=t,setTimeout((()=>{this.close()}),3e3)}))},methods:{close:function(){this.notification.state="wrapper hide"}}});const n=await t();new Vue({el:"#root",template:'\n    <div id="center">\n      <notification-toaster></notification-toaster>\n      <h1>Output Pin</h1>\n      <button v-on:click="loadPins" v-bind:class="loadingbtn">\n        <span class="button__text">Load Pins</span>\n      </button>\n      <ol class="switches">\n        <output-pin\n          v-for="item in outputPins"\n          v-bind:pin="item"\n          v-bind:key="item.pin"\n        ></output-pin>\n      </ol>\n    </div>\n    ',data:{outputPins:n,loadingbtn:"button"},methods:{loadPins:async function(n){this.loadingbtn="button button--loading";try{this.outputPins=await t(),"Chargement terminé","Les pins sont toutes bien là",Y.next({class:"uil uil-check",state:"wrapper active",type:"toast success",title:"Chargement terminé",message:"Les pins sont toutes bien là"})}catch(t){$("Quelque chose n'a pas fonctionné","Impossible charger les sorties",t)}this.loadingbtn="button"}}})})()}},t=>{t(t.s=5)}]);